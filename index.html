<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>GENÃ‡ GROSS â€¢ Mobil Terminal</title>
<style>
  :root{--blue:#1c2aae;--orange:#f0552c;--ok:#1fbf75;--warn:#ff5d5d;--card:#f6f8ff}
  *{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
  header{background:linear-gradient(90deg,var(--orange),var(--blue));color:#fff;padding:12px 10px}
  .wrap{max-width:980px;margin:auto;padding:12px}
  .card{background:var(--card);border-radius:12px;padding:12px;margin:10px 0}
  .row{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
  input,select,button{border-radius:10px;border:1px solid #d6daf2;padding:10px}
  button{cursor:pointer;font-weight:700}
  .good{background:var(--ok);color:#fff;border:none}
  .warn{background:var(--warn);color:#fff;border:none}
  table{width:100%;border-collapse:collapse;margin-top:10px}
  th,td{padding:8px;border-bottom:1px solid #dbe1ff} th{background:#e9edff}
  .muted{color:#667;font-size:12px}
  .pname{color:#0a7a2b;font-weight:700} .pprice{color:#a14900;font-weight:700}
  .chip{display:inline-block;padding:2px 8px;border:1px solid #d6daf2;border-radius:999px;background:#eef1ff;font-size:12px;margin-right:6px}
</style>
</head>
<body>
<header><div class="wrap"><b>GENÃ‡ GROSS</b> Â· Mobil Terminal</div></header>

<div class="wrap">

  <!-- Kamera kutusu (yalÄ±n) -->
  <div class="card">
    <div class="row">
      <label>Kamera:</label>
      <select id="cameraSelect"></select>
      <button id="btnStart">KamerayÄ± BaÅŸlat</button>
      <button id="btnStop">Durdur</button>
      <button id="btnScanOnce" style="margin-left:auto">ðŸ‘‰ Tek Okut</button>
    </div>
    <div style="background:#000;border-radius:12px;overflow:hidden">
      <video id="video" playsinline autoplay muted style="width:100%;max-height:320px;display:block"></video>
    </div>
    <div class="row" style="margin-top:6px">
      <span id="scanStatus" class="chip">HazÄ±r</span>
      <span id="fps" class="chip">FPS: -</span>
    </div>
  </div>

  <!-- Barkod + Adet -->
  <div class="card">
    <h3 style="margin:4px 0 10px 0">Barkod / Kod & Adet</h3>
    <div class="row">
      <input id="barcode" placeholder="Barkod veya Kod" inputmode="numeric" style="flex:1;min-width:220px" />
      <button id="btnDone" style="background:#ff7d3a;color:#fff;border:none">Tamam</button>
    </div>
    <div class="row" style="margin-top:6px">
      <button id="btnMinus">-1</button>
      <input id="qty" type="number" value="1" min="1" step="1" style="width:90px;text-align:center" />
      <button id="btnPlus">+1</button>
      <button id="btnAdd" class="good">Ekle</button>
    </div>
    <div class="row" style="margin-top:6px">
      <button id="btnUndo">Geri Al</button>
      <button id="btnClear" class="warn" style="margin-left:auto">Listeyi Temizle</button>
    </div>
    <div class="muted" style="margin-top:6px">
      ÃœrÃ¼n: <span id="productName" class="pname">â€”</span> Â·
      Fiyat: <span id="productPrice" class="pprice">â€”</span>
    </div>
    <div class="row" style="margin-top:8px">
      <label>Dosya AdÄ±:</label>
      <input id="filename" placeholder="sayim" style="flex:1;min-width:200px" />
      <button id="btnExport">TXT Olarak DÄ±ÅŸa Aktar</button>
    </div>
    <table>
      <thead><tr><th>Kod/Barkod</th><th>Ä°sim</th><th style="text-align:right">Adet</th></tr></thead>
      <tbody id="tbody"></tbody>
    </table>
    <div class="muted">Toplam satÄ±r: <span id="totalRows">0</span> Â· Toplam adet: <span id="totalQty">0</span></div>
  </div>

  <!-- ÃœrÃ¼n verisi -->
  <div class="card">
    <h3 style="margin:4px 0 8px 0">ÃœrÃ¼n Verisi YÃ¼kle</h3>
    <div class="muted">CSV/TXT (<code>kod;isim;...;fiyat</code>), JSON veya <b>Genius 2 SQL (GNCPLULUF)</b> yÃ¼kleyebilirsin. YÃ¼kledikten sonra veri cihazda saklanÄ±r.</div>
    <div class="row" style="margin-top:6px">
      <input id="productFile" type="file" />
      <select id="encSel">
        <option value="windows-1254">TÃ¼rkÃ§e (Windows-1254)</option>
        <option value="utf-8">UTF-8</option>
      </select>
      <button id="btnClearMap" class="warn">ÃœrÃ¼n Verisini Temizle</button>
      <span id="mapStat" class="chip">0 Ã¼rÃ¼n yÃ¼klÃ¼</span>
    </div>
  </div>

  <!-- Ä°simle arama -->
  <div class="card">
    <h3>ÃœrÃ¼n Arama (isimle)</h3>
    <input id="nameSearch" placeholder="Ã¶rn: onurlu, ekmek, kolonya..." />
    <div id="searchResults"></div>
    <div class="muted">Sonuca dokununca barkodu giriÅŸe doldurur.</div>
  </div>

  <audio id="okBeep" preload="auto" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>
  <audio id="errBeep" preload="auto" src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_7b4d2f7a1c.mp3?filename=error-126627.mp3"></audio>
</div>

<script src="app.js"></script>
</body>
</html>
